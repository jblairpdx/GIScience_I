<!DOCTYPE html>
<html>
  <head>
    <title>Lecture 9: Spatial modeling</title>
    <meta charset="utf-8">
    <style>
      @import url(https://fonts.googleapis.com/css?family=Yanone+Kaffeesatz); @import url(https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic); @import url(https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700,400italic); body {font-family: 'Droid Serif';} h1, h2, h3 {font-family: 'Yanone Kaffeesatz'; font-weight: normal;} .remark-code, .remark-inline-code {font-family: 'Ubuntu Mono';} .red {color: #fa0000;} .white {color: #f3f3f3;} .left-column {width: 45%; float: left;} .right-column {width: 45%; float: right;} .footnote {position: absolute; bottom: 1em; font-size: 0.5em;} .image-10 img {width: 10%;} .image-20 img {width: 20%;} .image-30 img {width: 30%;} .image-40 img {width: 40%;} .image-50 img {width: 50%;} .image-60 img {width: 60%;} .image-70 img {width: 70%;} .image-80 img {width: 80%;} .image-90 img {width: 90%;} .image-100 img {width: 100%;} .image-110 img {width: 110%;} .image-120 img {width: 120%;} .inverse {background: #272822; color: #777872;} .inverse h1, .inverse h2 {color: #f3f3f3; line-height: 0.8em;}
    </style>
  </head>
  <body>
<textarea id="source">
class: inverse, middle
# Lecture 9: Spatial modeling
.footnote[GIScience I, Spring 2017]

---
class: middle
## Reminder:

1. Class Wednesday, May 17th will be entirely dedicated to talking about the final project.
2. Complete & bring worksheet to class Wednesday, May 17th; we will be using it for in-class peer feedback.
3. Final project documents are on the class materials website:
  * [Worksheet](https://jblairpdx.github.io/GIScience_I/final_project/worksheet.pdf)
  * [Worksheetâ€”Peer Feedback](https://jblairpdx.github.io/GIScience_I/final_project/worksheet_peer_feedback.pdf)
  * [Proposal](https://jblairpdx.github.io/GIScience_I/final_project/proposal.pdf)

---
## GIS as process

1. Locate entities in the world.

2. Represent the entities digitally.

3. Describe the entities.

4. **Process, integrate, analyze.**

5. Communicate the results.

6. Audience: Interpret, make decisions, give feedback.

---
class: middle
## Spatial modelingâ€”oh great, another use of the word 'model'?

---
## Yes, another one

A **spatial model** is a sequence of operations on spatial data combined into a single whole, for a single purpose.

* All steps in the sequence are means to produce the desired output or endpoint of the model.

* The sequence should be considered a 'model' representation of a thematically singular geospatial process or property.
  * A collection of unrelated tasks isn't a model: that's just a to-do list.

* The 'spatial data model' represents collected information; a GIS/spatial model here is is an expression of a process in the world.
  * Simulations of natural or social proceses.
  * Human-designed processes for decision-making or solving a problem.
  * Calculations of indicators or predictors.
  * Automation of standard workflows.

---
## Common traits of GIS/spatial models

* Multiple stages of transformation & analysis - sequential or looping.

* Allow for experimenting/alteration of options & scenarios.
  * Change inputs.
  * Change operational details.
  * Replace/rewrite individual part(s).

* Can have their individual stages run separately/manually (with proper inputs).

* Can be expressed by a flowchart or a list/script of ordered operations/stages.

* Can be developed in a system that properly represents its flow or sequencing and has access to the necessary operations/tools.

---
## Static vs. dynamic

* Static model
  * Represents a single point in time, or unchanging system.
  * Typically designed as multiple inputs -> single output.
  * Example: Location analysis - where to open our next coffee shop.
* Dynamic model
  * Model loops through certain stages in multiple *iterations*.
  * System parameters change over iterations of the model.
  * Example: Disease outbreak analysis.

.left-column[
.image-100[![http://www.caliper.com/Maptitude/SiteLocation/](media/maptitude-site-comparison-mapping-software.jpg)]
]
.right-column[
.image-100[![https://cybergeo.revues.org/27397](media/img-6.jpg)]
]

---
## Individual vs. aggregate

* Individual, or agent-based models calculate process results for every discrete actor in the system.
  * Requires lots of computing power.
  * Also requires lots of knowledge about actors.
  * Common use for modeling human/animal behavior.

* Aggregate models simulate process results for collective units.
  * Useful when individual parts too numerous to track, or observation/theory applies at a higher level.
  * Common use for modeling physical processes.

[Agentscript: Droplets](http://agentscript.org/models/tiledroplets.html)

---
## Cellular models

* Raster representation.
* Each cell has a number of possible states.
* States change through time from applying transition rules in stages.
* A rule's effect on cell often take into account:
  * Current state.
  * States of neighboring cells.
  * Associated attribute values of cell (via an attribute table, overlaid companion rasters).
* Common to use for dynamic models where the state of the neighboring locations has high impact on outcomes.

[Agentscript: Fire Spread Model](http://agentscript.org/models/fire.html)

---
## How does one build a model?

A common approach to developing a model:

1. Sketch likely steps needed to get desired results (maybe draw flowchart, or script in pseudocode).
2. Run steps manually to verify correct steps.
3. Refine documentation/flowchart/pseudocode.
4. Use model-building application to create an executable single version of your model.
5. (Optional) Program scripting code to refine model and manage quirks/edge cases.
6. (Optional) Program lower-level code to create model as own application or tool, maximize speed/power/stability.

.image-100[![Jacob Blair: Model Design](media/Model_Design.png)]

---
## Flowcharts

* Lots of flowchart applications out there:
  * IMHO few feel simple or easy-to-use.
  * Quality of tools and output generally varies with cost.
  * Microsoft Visio ($$), Wizflow Flowcharter ($), www.draw.io (ðŸ˜„), Google Drawings (ðŸ˜„), etc.
* Honestly, drawing flowcharts by hand isn't that painful, gets easier every time you do it.

.image-80[![Jacob Blair: CPA Data Integration-Geoprocessing](media/CPA%20Workplan%201.3.1%20-%20GIS%20Data%20Integration-Geoprocessing.png)]

---
## Flowcharts (cont.)

* Don't need to be fancy with chart graphics. Just need a couple distinct types.
  * Datasets - commonly represented as ellipses.
  * Operations - commonly represented as rectangles.
* Can add some extra frills if you'd like:
  * Color variations on each type (e.g. input/intermediate/ouput dataset; tentative vs. verified operation).

.image-60[![Jacob Blair: Sketch of Taxlot-Fire Protection Cross-reference](media/TaxlotFireProtectionModel.jpg)]

---
## Model-building appâ€”ModelBuilder for ArcGIS Desktop

* A flowchart program that creates the model as you connect the flowchart.
* Create a new *Toolbox* (.tbx file) in *Catalog* pane or *ArcCatalog*, then create model(s) within.
* Drag & drop tools, datasets, & data layers from *Table of Contents*, *Catalog* pane, *ArcToolbox*.
* When run inside ArcMap, enables access to your active data frame's contents, places output there.

.left-column[
.image-100[![https://desktop.arcgis.com/en/arcmap/latest/analyze/modelbuilder/what-is-modelbuilder.htm](media/GUID-8367A443-45E1-4E97-B17E-628E8F7707CB-web.png)]
]
.right-column[
.image-100[![https://desktop.arcgis.com/en/arcmap/latest/analyze/modelbuilder/what-is-modelbuilder.htm](media/GUID-D9581F46-035D-44FD-A208-5F0066C5755D-web.png)]
]

---
## Advantages of Creating/Using Models

* Repeatableâ€”with or without variations.

* Self-documenting.

* Shareable.
  * Usable by anyone else with access to model & supporting apps.
  * Embeds expertise.

* Organizes workflow/process into distinct parts.
  * Can plan & develop analysis through modeling a basic prototype-like object, adding complexity as you go.
  * 'Minimum viable product.'

</textarea>
    <script src="https://remarkjs.com/downloads/remark-latest.min.js">
    </script>
    <script>
      var slideshow = remark.create();
    </script>
  </body>
</html>
